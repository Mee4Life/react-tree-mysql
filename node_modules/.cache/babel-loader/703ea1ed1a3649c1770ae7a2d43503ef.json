{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\React\\\\tree-mysql\\\\src\\\\pages\\\\Branch.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport BranchView from '../Components/branches/BranchView';\nimport { tokenGet } from '../utils/functions';\nimport Helmet from 'react-helmet';\n\nfunction Branch(props) {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    isDark,\n    apiBase,\n    fontSize,\n    apiBase2\n  } = props.p;\n  const {\n    id\n  } = useParams();\n  let url;\n\n  if (id) {\n    url = apiBase + '/branch?id=' + id;\n  } else {\n    url = apiBase2 + '/branches/root';\n  }\n\n  const freshBranches = () => {\n    tokenGet(url).then(data => {\n      setIsPending(false);\n      setData(data);\n      setError(null);\n    }).catch(err => {\n      if (err.name === 'AbortError') {\n        console.log('fetch aborted');\n      } else {\n        // auto catches network / connection error\n        setIsPending(false);\n        setError(err.message);\n      }\n    });\n  };\n\n  useEffect(() => {\n    freshBranches();\n  }, [url]);\n  const ex = {\n    freshBranches\n  };\n\n  const getTitle = () => {\n    if (data && data.name) return data.name;else return 'Me 4 Life';\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: 'wrapper',\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: /*#__PURE__*/_jsxDEV(\"title\", {\n          children: getTitle()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(BranchView, {\n        isDark: isDark,\n        data: data,\n        isPending: isPending,\n        apiBase: apiBase,\n        setUpToDate: setData,\n        fontSize: fontSize,\n        p: props.p,\n        ex: ex\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), isPending && /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-spinner spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 28\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\" \", error, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Branch, \"TLIRpR7CFTfyCnhKLFDxJW5pUsI=\", false, function () {\n  return [useParams];\n});\n\n_c = Branch;\nexport default Branch;\n\nvar _c;\n\n$RefreshReg$(_c, \"Branch\");","map":{"version":3,"sources":["F:/React/tree-mysql/src/pages/Branch.js"],"names":["React","useState","useEffect","useParams","BranchView","tokenGet","Helmet","Branch","props","data","setData","isPending","setIsPending","error","setError","isDark","apiBase","fontSize","apiBase2","p","id","url","freshBranches","then","catch","err","name","console","log","message","ex","getTitle"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport BranchView from '../Components/branches/BranchView'\nimport { tokenGet } from '../utils/functions'\nimport Helmet from 'react-helmet'\n\nfunction Branch(props) {\n    const [data, setData] = useState(null);\n    const [isPending, setIsPending] = useState(true);\n    const [error, setError] = useState(null);\n    const { isDark, apiBase, fontSize, apiBase2 } = props.p\n    const { id } = useParams()\n    let url;\n    if (id) {\n        url = apiBase + '/branch?id=' + id\n    } else {\n        url = apiBase2 + '/branches/root'\n    }\n\n    const freshBranches = () => {\n        tokenGet(url)\n            .then(data => {\n                setIsPending(false);\n                setData(data);\n                setError(null);\n            })\n            .catch(err => {\n                if (err.name === 'AbortError') {\n                    console.log('fetch aborted')\n                } else {\n                    // auto catches network / connection error\n                    setIsPending(false);\n                    setError(err.message);\n                }\n            })\n    }\n\n    useEffect(() => {\n\n        freshBranches()\n\n    }, [url])\n\n    const ex = {\n        freshBranches\n    }\n\n    const getTitle = () => {\n        if (data && data.name) return data.name\n        else return 'Me 4 Life'\n    }\n\n    return (\n        <div>\n            { data &&\n            <div className={'wrapper'}>\n                <Helmet>\n                    <title>{ getTitle() }</title>\n                </Helmet>\n                <BranchView isDark={isDark} data={data} isPending={isPending} apiBase={apiBase} setUpToDate={setData} fontSize={fontSize} p={props.p} ex={ex} />\n            </div>\n                \n            }\n            { isPending && <i className=\"fas fa-spinner spinner\"></i>}\n            { error && <div> {error} </div>}\n        </div>\n    )\n}\n\nexport default Branch\n"]},"metadata":{},"sourceType":"module"}