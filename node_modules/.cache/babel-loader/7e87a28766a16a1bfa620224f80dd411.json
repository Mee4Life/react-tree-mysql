{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\React\\\\tree-mysql\\\\src\\\\Components\\\\branches\\\\new\\\\New.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './new.css';\nimport BranchLang from './BranchLang';\nimport Group from './groups/Group';\nimport Person from './persons/Person';\nimport Tag from './tags/Tag';\nimport Input1 from '../../Inputs/input1';\nimport { tokenPost } from '../../../utils/functions';\n\nfunction New(props) {\n  _s();\n\n  const {\n    p\n  } = props;\n\n  let getCls = base => {\n    return p.getCls('new-section-' + base);\n  };\n\n  const [newBranchPending, setNewBranchPending] = useState(false);\n  const [branchName, setBranchName] = useState('');\n  const [branchType, setBranchType] = useState('text');\n  const [linkName, setLinkName] = useState('');\n  const [lang, setLang] = useState('ar');\n  const [pinned, setPinned] = useState(0);\n  const [pos, setPos] = useState(0);\n  const [openedMenu, setOpenedMenu] = useState(false);\n  const [seGroups, setSeGroups] = useState([]);\n  const [sePersons, setSePersons] = useState([]);\n  const [seTags, setSeTags] = useState([]);\n  const [expandNew, setExpandNew] = useState(false);\n  const [soundName, setSoundName] = useState('');\n  let {\n    location: BranchLocation,\n    isDark,\n    apiBase,\n    setUpToDate\n  } = props;\n  if (!BranchLocation) BranchLocation = '';\n  let ex = {\n    seGroups,\n    setSeGroups,\n    sePersons,\n    setSePersons,\n    seTags,\n    setSeTags\n  };\n\n  const setDir = () => {\n    if (lang === 'ar') return 'rtl';else return 'ltr';\n  };\n\n  const setTextAlign = () => {\n    if (lang === 'ar') return 'right';else return 'left';\n  };\n\n  const cleanForm = () => {\n    const inp = document.getElementById('branchName');\n    inp.innerHTML = '';\n  };\n\n  const submitClick = () => {\n    setNewBranchPending(true);\n    const url = p.apiBase2 + '/branches';\n    const data = {\n      name: branchName,\n      type: branchType,\n      parentID: BranchLocation,\n      lang: lang,\n      // groups: seGroups,\n      // persons: sePersons,\n      // tags: seTags,\n      pinned: pinned,\n      positive: pos\n    };\n    if (BranchLocation.length <= 0) data.parentID = 0; // check link type to append link name to the extra\n\n    if (branchType === 'link') {\n      data['extra'] = {};\n      data.extra['name'] = linkName;\n    } // check if type Song is added to add Name \n\n\n    if (branchType === 'sound') {\n      data['extra'] = {};\n      data.extra['soundName'] = soundName;\n    }\n\n    tokenPost(url, data, p.token).then(res => {\n      // setNewBranchPending(false)\n      console.log(res); // fetch new branches . \n\n      let url;\n      BranchLocation.length > 0 ? url = apiBase + '/branch?id=' + BranchLocation : url = apiBase + '/branch';\n      fetch(url).then(d => {\n        return d.json();\n      }).then(e => {\n        if (BranchLocation.length > 0) setUpToDate(e);else {\n          // extract root branches : \n          // extract root branches : \n          const rootBranches = e.filter(b => {\n            return b.origin == null;\n          });\n          setUpToDate(rootBranches);\n        }\n      });\n    });\n    cleanForm();\n  };\n\n  const handleNameChange = e => {\n    setBranchName(e.target.innerText);\n  };\n\n  const branchTypeChange = e => {\n    setBranchType(e.target.value);\n  };\n\n  const getSelectBranchType = () => {\n    return /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"select-branch-type\",\n      name: \"type\",\n      onChange: e => {\n        branchTypeChange(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"text\",\n        children: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"image\",\n        children: \"image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"sound\",\n        children: \"sound\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"video\",\n        children: \"video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"link\",\n        children: \"Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"youtube\",\n        children: \"youtube\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"gist\",\n        children: \"gist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getTextInput = title => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this), title === \"Branch\" && expandNew && /*#__PURE__*/_jsxDEV(BranchLang, {\n        setLang: setLang,\n        branchType: branchType,\n        lang: lang\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        id: \"branchName\",\n        className: getCls('input-name'),\n        onInput: e => handleNameChange(e),\n        style: {\n          direction: setDir(),\n          textAlign: setTextAlign()\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getAudioInput = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Song\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input1, {\n        type: \"text\",\n        placeholder: \"Song Link\",\n        value: branchName,\n        onChange: e => setBranchName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input1, {\n        placeholder: \"Song Name\",\n        type: \"text\",\n        value: soundName,\n        onChange: e => {\n          setSoundName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getImageForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-branch-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        id: \"branchName\",\n        className: getCls('input-name'),\n        onInput: e => handleNameChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleLinkChange = e => {\n    setBranchName(e.target.innerText);\n  };\n\n  const handleLinkNameChange = e => {\n    setLinkName(e.target.innerText);\n  };\n\n  const getLinkForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-branch-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        className: getCls('input-name'),\n        onInput: e => handleLinkChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        className: getCls('input-name'),\n        onInput: e => handleLinkNameChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getSpinner = e => {\n    return /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-spinner spinner save-branch-spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 13\n    }, this);\n  };\n\n  const toggleNew = () => {\n    setOpenedMenu(!openedMenu);\n  };\n\n  const getPinPosValue = oldValue => {\n    if (oldValue == 1) return 0;else return 1;\n  };\n\n  const getPinnedPositive = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: getCls('container'),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: getCls('pinned'),\n        onClick: () => {\n          setPinned(getPinPosValue(pinned));\n        },\n        children: [pinned == 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-ribbon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 37\n        }, this), pinned == 1 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-ribbon\",\n          style: {\n            color: 'green'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: getCls('pos'),\n        onClick: () => {\n          setPos(getPinPosValue(pinned));\n        },\n        children: [pos == 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-minus-square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 34\n        }, this), pos == 1 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-plus-square\",\n          style: {\n            color: 'green'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this);\n  };\n\n  const toggleExpandNew = () => {\n    setExpandNew(!expandNew);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: getCls('W5DlnFPm77'),\n    children: p.navSts.isVisibleNav && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: p.getCls('new-section'),\n      children: [openedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleNew,\n        className: getCls('closeNewIconContainer'),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-times-circle closeNewIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 28\n      }, this), !openedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleNew,\n        className: getCls('NewIconContainer'),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus-circle addNewIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 36\n      }, this), openedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"new-branch-form\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `form-container ${isDark ? \"dark-form-container\" : \"light-form-container\"}`,\n          children: [!newBranchPending && expandNew && getSelectBranchType(), !newBranchPending && branchType === 'text' && getTextInput('Branch'), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: getCls('wN9ogkd4R'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: toggleExpandNew,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-caret-square-down\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 57\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 25\n            }, this), expandNew && /*#__PURE__*/_jsxDEV(Group, {\n              ex: ex,\n              p: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 40\n            }, this), expandNew && /*#__PURE__*/_jsxDEV(Person, {\n              ex: ex,\n              p: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 39\n            }, this), expandNew && /*#__PURE__*/_jsxDEV(Tag, {\n              ex: ex,\n              p: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 39\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 21\n          }, this), expandNew && getPinnedPositive(), !newBranchPending && branchType === 'image' && getImageForm(), !newBranchPending && branchType === 'link' && getLinkForm(), !newBranchPending && branchType === 'video' && getTextInput('Video'), !newBranchPending && branchType === 'youtube' && getTextInput('YouTube'), !newBranchPending && branchType === 'sound' && getAudioInput(), !newBranchPending && branchType === 'gist' && getTextInput('Gist'), newBranchPending && getSpinner()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 28\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 35\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 9\n  }, this);\n}\n\n_s(New, \"5ke0X7mmsB+iiYVMW5I8InkuDwc=\");\n\n_c = New;\nexport default New;\n\nvar _c;\n\n$RefreshReg$(_c, \"New\");","map":{"version":3,"sources":["F:/React/tree-mysql/src/Components/branches/new/New.js"],"names":["React","useState","BranchLang","Group","Person","Tag","Input1","tokenPost","New","props","p","getCls","base","newBranchPending","setNewBranchPending","branchName","setBranchName","branchType","setBranchType","linkName","setLinkName","lang","setLang","pinned","setPinned","pos","setPos","openedMenu","setOpenedMenu","seGroups","setSeGroups","sePersons","setSePersons","seTags","setSeTags","expandNew","setExpandNew","soundName","setSoundName","location","BranchLocation","isDark","apiBase","setUpToDate","ex","setDir","setTextAlign","cleanForm","inp","document","getElementById","innerHTML","submitClick","url","apiBase2","data","name","type","parentID","positive","length","extra","token","then","res","console","log","fetch","d","json","e","rootBranches","filter","b","origin","handleNameChange","target","innerText","branchTypeChange","value","getSelectBranchType","getTextInput","title","direction","textAlign","getAudioInput","getImageForm","handleLinkChange","handleLinkNameChange","getLinkForm","getSpinner","toggleNew","getPinPosValue","oldValue","getPinnedPositive","color","toggleExpandNew","navSts","isVisibleNav"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport './new.css'\nimport BranchLang from './BranchLang'\nimport Group from './groups/Group'\nimport Person from './persons/Person'\nimport Tag from './tags/Tag'\nimport Input1 from '../../Inputs/input1'\nimport {tokenPost} from '../../../utils/functions'\n\n\n\n\n\nfunction New(props) {\n    const { p } = props\n    let getCls = (base) => { return p.getCls('new-section-' + base) }\n    const [newBranchPending, setNewBranchPending] = useState(false)\n    const [branchName, setBranchName] = useState('')\n    const [branchType, setBranchType] = useState('text')\n    const [linkName, setLinkName] = useState('')\n    const [lang, setLang] = useState('ar')\n    const [pinned, setPinned] = useState(0)\n    const [pos, setPos] = useState(0)\n    const [openedMenu, setOpenedMenu] = useState(false)\n    const [seGroups, setSeGroups] = useState([])\n    const [sePersons, setSePersons] = useState([])\n    const [seTags, setSeTags] = useState([])\n    const [expandNew, setExpandNew] = useState(false)\n    const [soundName, setSoundName] = useState('')\n    let { location: BranchLocation, isDark, apiBase, setUpToDate } = props\n    if (!BranchLocation) BranchLocation = ''\n\n    let ex = {\n        seGroups, setSeGroups, sePersons, setSePersons, seTags, setSeTags\n    }\n\n\n    const setDir = () => {\n        if (lang === 'ar') return 'rtl'\n        else return 'ltr'\n    }\n    const setTextAlign = () => {\n        if (lang === 'ar') return 'right'\n        else return 'left'\n    }\n\n    const cleanForm = () => {\n        const inp = document.getElementById('branchName')\n        inp.innerHTML = ''\n    }\n\n    const submitClick = () => {\n        setNewBranchPending(true)\n        const url = p.apiBase2 + '/branches'\n        const data = {\n            name: branchName,\n            type: branchType,\n            parentID: BranchLocation,\n            lang: lang,\n            // groups: seGroups,\n            // persons: sePersons,\n            // tags: seTags,\n            pinned: pinned,\n            positive: pos\n        }\n\n        if(BranchLocation.length <= 0) data.parentID = 0\n\n        // check link type to append link name to the extra\n        if (branchType === 'link') {\n            data['extra'] = {}\n            data.extra['name'] = linkName\n        }\n\n        // check if type Song is added to add Name \n        if(branchType === 'sound'){\n            data['extra'] = {}\n            data.extra['soundName'] = soundName\n        }\n    \n\n        tokenPost(url, data, p.token).then(res => {\n            // setNewBranchPending(false)\n            console.log(res)\n\n            // fetch new branches . \n            let url\n            BranchLocation.length > 0 ? url = apiBase + '/branch?id=' + BranchLocation : url = apiBase + '/branch'\n            fetch(url).then(d => {\n                return d.json()\n            }).then(e => {\n                if (BranchLocation.length > 0)\n                    setUpToDate(e)\n                else {\n                    // extract root branches : \n                    // extract root branches : \n                    const rootBranches = e.filter((b) => {\n                        return b.origin == null\n                    })\n                    setUpToDate(rootBranches)\n\n                }\n            })\n\n        })\n\n        cleanForm()\n\n    }\n\n    const handleNameChange = (e) => {\n        setBranchName(e.target.innerText)\n    }\n\n    const branchTypeChange = (e) => {\n        setBranchType(e.target.value)\n    }\n\n\n    const getSelectBranchType = () => {\n        return (\n            <select className=\"select-branch-type\" name=\"type\" onChange={(e) => {\n                branchTypeChange(e)\n            }}>\n                <option value=\"text\">text</option>\n                <option value=\"image\">image</option>\n                <option value=\"sound\">sound</option>\n                <option value=\"video\">video</option>\n                <option value=\"link\">Link</option>\n                <option value=\"youtube\">youtube</option>\n                <option value=\"gist\">gist</option>\n            </select>\n        )\n    }\n\n\n\n    const getTextInput = (title) => {\n        return (\n            <div>\n                <h2>{title}</h2>\n                {title === \"Branch\" && expandNew && <BranchLang setLang={setLang} branchType={branchType} lang={lang} />}\n                <div contentEditable=\"true\" id=\"branchName\" className={getCls('input-name')} onInput={(e) => handleNameChange(e)} style={{ direction: setDir(), textAlign: setTextAlign() }} />\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n\n\n    const getAudioInput = () => {\n        return (\n            <div>\n                {/* title */}\n                <h2>Song</h2>\n                {/* link */}\n                <Input1 type=\"text\" placeholder='Song Link' value={branchName} onChange={(e) => setBranchName(e.target.value)} />\n                {/* name */}\n                <Input1 placeholder=\"Song Name\" type=\"text\" value={soundName} onChange={(e)=> {setSoundName(e.target.value)}}/>\n                {/* submit */}\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n\n    const getImageForm = () => {\n        return (\n            <div className=\"new-branch-form\">\n                <h2>Image</h2>\n                <div contentEditable=\"true\" id=\"branchName\" className={getCls('input-name')} onInput={(e) => handleNameChange(e)} />\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n    const handleLinkChange = (e) => {\n        setBranchName(e.target.innerText)\n    }\n    const handleLinkNameChange = (e) => {\n        setLinkName(e.target.innerText)\n    }\n    const getLinkForm = () => {\n        return (\n            <div className=\"new-branch-form\">\n                <h2>Link</h2>\n                <div contentEditable=\"true\" className={getCls('input-name')} onInput={(e) => handleLinkChange(e)}></div>\n                <div contentEditable=\"true\" className={getCls('input-name')} onInput={(e) => handleLinkNameChange(e)}></div>\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n\n    const getSpinner = (e) => {\n        return (\n            <i className=\"fas fa-spinner spinner save-branch-spinner\"></i>\n        )\n    }\n\n    const toggleNew = () => {\n        setOpenedMenu(!openedMenu)\n    }\n\n    const getPinPosValue = (oldValue) => {\n        if(oldValue == 1) return 0\n        else return 1\n    }\n\n\n    const getPinnedPositive = () => {\n\n        return (\n            <div className={getCls('container')}>\n                <div className={getCls('pinned')} onClick={() => { setPinned(getPinPosValue(pinned)) }}>\n                    {pinned == 0 && <i className=\"fas fa-ribbon\"></i>}\n                    {pinned == 1 && <i className=\"fas fa-ribbon\" style={{ color: 'green' }}></i>}\n                </div>\n                <div className={getCls('pos')} onClick={() => { setPos(getPinPosValue(pinned)) }}>\n                    {pos == 0 && <i className=\"far fa-minus-square\"></i>}\n                    {pos == 1 && <i className=\"far fa-plus-square\" style={{ color: 'green' }}></i>}\n                </div>\n            </div>\n        )\n    }\n\n\n    const toggleExpandNew = () => {\n        setExpandNew(!expandNew)\n    }\n    return (\n        <div className={getCls('W5DlnFPm77')}>\n        {p.navSts.isVisibleNav && <div className={p.getCls('new-section')}>\n            {openedMenu && <div onClick={toggleNew} className={getCls('closeNewIconContainer')}>\n                <i className=\"fas fa-times-circle closeNewIcon\"></i>\n            </div>}{!openedMenu && <div onClick={toggleNew} className={getCls('NewIconContainer')}>\n                <i className=\"fas fa-plus-circle addNewIcon\"></i>\n            </div>}\n            {openedMenu && <div className=\"new-branch-form\">\n                <div className={`form-container ${isDark ? \"dark-form-container\" : \"light-form-container\"}`}>\n                    \n                    {!newBranchPending && expandNew && getSelectBranchType()}\n\n\n                    {!newBranchPending && branchType === 'text' && getTextInput('Branch')}\n\n\n                    <div className={getCls('wN9ogkd4R')} >\n                        <span onClick={toggleExpandNew}><i className=\"far fa-caret-square-down\"></i></span>\n                        {expandNew &&  <Group ex={ex} p={p} />}\n                        {expandNew && <Person ex={ex} p={p} />}\n                        {expandNew && <Tag ex={ex} p={p} />}\n                    </div>\n                    {expandNew && getPinnedPositive()}\n                    \n                    {!newBranchPending && branchType === 'image' && getImageForm()}\n                    {!newBranchPending && branchType === 'link' && getLinkForm()}\n                    {!newBranchPending && branchType === 'video' && getTextInput('Video')}\n                    {!newBranchPending && branchType === 'youtube' && getTextInput('YouTube')}\n                    {!newBranchPending && branchType === 'sound' && getAudioInput()}\n                    {!newBranchPending && branchType === 'gist' && getTextInput('Gist')}\n                    {newBranchPending && getSpinner()}\n                </div>\n            </div>}\n        </div>}\n        </div>\n    )\n}\n\nexport default New\n"]},"metadata":{},"sourceType":"module"}