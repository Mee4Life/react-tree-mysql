{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\React\\\\tree-react-mysql\\\\src\\\\pages\\\\groups\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Input1 from '../../Components/Inputs/input1';\nimport Btn1 from '../../Components/buttons/Btn1';\nimport { tokenPost, tokenGet } from '../../utils/functions';\n\nfunction Form(props) {\n  _s();\n\n  const {\n    p,\n    ex\n  } = props;\n\n  const getCls = base => {\n    return p.getCls('goM-' + base);\n  };\n\n  const [name, setName] = useState('');\n  const [searchV, setSearchV] = useState('');\n\n  const handleSave = () => {\n    tokenPost(p.apiBase + '/group', {\n      name\n    }, p.token).then(d => {\n      tokenGet(p.apiBase + '/group', {\n        token: p.token\n      }).then(d => {\n        ex.setRGroups(d);\n      });\n    });\n  };\n\n  const handleChange = e => {\n    setName(e.target.value); // check empty string : \n\n    if (e.target.value.trim().length === 0) {\n      tokenGet(p.apiBase + '/group', {\n        token: p.token\n      }).then(d => {\n        ex.setRGroups(d);\n      });\n      return;\n    } // get groups array rGroups, setRGroups\n\n\n    const re = new RegExp(e.target.value, \"ig\");\n    const ar1 = ex.rGroups.filter(d => {\n      if (!d.name.match(re)) return false;\n      return d.name.match(re).length > 0;\n    });\n    ex.setRGroups(ar1);\n  };\n\n  const handleSChange = e => {\n    const v = e.target.value;\n    setSearchV(v);\n\n    if (v.trim().length <= 0) {\n      ex.setFilteredGroups(ex.rGroups);\n      return;\n    }\n\n    const result = ex.filteredGroups.filter(d => {\n      return d.name.search(v) >= 0;\n    });\n    ex.setFilteredGroups(result);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: getCls('wrapper0'),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: getCls('wrapper0'),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: getCls('w1'),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: getCls('wrapper'),\n          children: /*#__PURE__*/_jsxDEV(Input1, {\n            type: \"text\",\n            value: searchV,\n            classes: \"XildWaIau\",\n            onChange: e => {\n              handleSChange(e);\n            },\n            placeholder: \"search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: getCls('w1'),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: getCls('wrapper'),\n          children: [/*#__PURE__*/_jsxDEV(Input1, {\n            type: \"text\",\n            value: name,\n            classes: \"XildWIau\",\n            onChange: e => {\n              handleChange(e);\n            },\n            placeholder: \"group name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Btn1, {\n            text: \"\\u062D\\u0641\\u0638\",\n            p: p,\n            onclick: handleSave\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Form, \"EYn6ou+GpxRPN+5kw42175e1KgE=\");\n\n_c = Form;\nexport default Form;\n\nvar _c;\n\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"sources":["F:/React/tree-react-mysql/src/pages/groups/Form.js"],"names":["React","useState","Input1","Btn1","tokenPost","tokenGet","Form","props","p","ex","getCls","base","name","setName","searchV","setSearchV","handleSave","apiBase","token","then","d","setRGroups","handleChange","e","target","value","trim","length","re","RegExp","ar1","rGroups","filter","match","handleSChange","v","setFilteredGroups","result","filteredGroups","search"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Input1 from '../../Components/Inputs/input1'\nimport Btn1 from '../../Components/buttons/Btn1'\nimport { tokenPost, tokenGet } from '../../utils/functions'\n\nfunction Form(props) {\n    const { p, ex } = props\n    const getCls = (base) => { return p.getCls('goM-' + base) }\n\n    const [name, setName] = useState('')\n    const [searchV, setSearchV] = useState('')\n\n    const handleSave = () => {\n        tokenPost(p.apiBase + '/group', { name }, p.token)\n            .then((d) => {\n                tokenGet(p.apiBase + '/group', { token: p.token })\n                    .then((d) => {\n                        ex.setRGroups(d)\n                    })\n            })\n    }\n\n    const handleChange = (e) => {\n        setName(e.target.value)\n        // check empty string : \n        if (e.target.value.trim().length === 0) {\n            tokenGet(p.apiBase + '/group', { token: p.token })\n                .then((d) => {\n                    ex.setRGroups(d)\n                })\n            return\n        }\n\n        // get groups array rGroups, setRGroups\n        const re = new RegExp(e.target.value, \"ig\")\n        const ar1 = ex.rGroups.filter((d) => {\n            if (!d.name.match(re)) return false\n            return d.name.match(re).length > 0\n        })\n        ex.setRGroups(ar1)\n    }\n\n    const handleSChange = (e) => {\n        const v = e.target.value\n        setSearchV(v)\n        if (v.trim().length <= 0) {\n            ex.setFilteredGroups(ex.rGroups)\n            return\n        }\n        const result = ex.filteredGroups.filter((d) => {\n            return d.name.search(v) >= 0\n        })\n        ex.setFilteredGroups(result)\n    }\n\n    return (\n        <div className={getCls('wrapper0')}>\n            <div className={getCls('wrapper0')}>\n\n                <div className={getCls('w1')}>\n                    {/* form section */}\n                    <div className={getCls('wrapper')}>\n                        {/* input */}\n                        <Input1 type=\"text\" value={searchV} classes='XildWaIau' onChange={(e) => { handleSChange(e) }} placeholder='search' />\n                    </div>\n                </div>\n\n\n                <div className={getCls('w1')}>\n                    {/* form section */}\n                    <div className={getCls('wrapper')}>\n                        {/* input */}\n                        <Input1 type=\"text\" value={name} classes='XildWIau' onChange={(e) => { handleChange(e) }} placeholder='group name' />\n                        {/* save */}\n                        <Btn1 text='حفظ' p={p} onclick={handleSave} />\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    )\n}\nexport default Form\n\n"]},"metadata":{},"sourceType":"module"}