{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"F:\\\\React\\\\tree-mysql\\\\src\\\\Components\\\\branches\\\\new\\\\New.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport './new.css';\nimport BranchLang from './BranchLang';\nimport Group from './groups/Group';\nimport Person from './persons/Person';\nimport Tag from './tags/Tag';\nimport Input1 from '../../Inputs/input1';\nimport { tokenGet, tokenPost } from '../../../utils/functions';\n\nfunction New(props) {\n  _s();\n\n  const {\n    p\n  } = props;\n\n  let getCls = base => {\n    return p.getCls('new-section-' + base);\n  };\n\n  const [newBranchPending, setNewBranchPending] = useState(false);\n  const [branchName, setBranchName] = useState('');\n  const [branchType, setBranchType] = useState('text');\n  const [linkName, setLinkName] = useState('');\n  const [lang, setLang] = useState('ar');\n  const [pinned, setPinned] = useState(0);\n  const [pos, setPos] = useState(0);\n  const [openedMenu, setOpenedMenu] = useState(false);\n  const [seGroups, setSeGroups] = useState([]);\n  const [sePersons, setSePersons] = useState([]);\n  const [seTags, setSeTags] = useState([]);\n  const [expandNew, setExpandNew] = useState(false);\n  const [soundName, setSoundName] = useState('');\n  let {\n    location: BranchLocation,\n    isDark,\n    apiBase,\n    setUpToDate\n  } = props;\n  if (!BranchLocation) BranchLocation = '';\n  let ex = {\n    seGroups,\n    setSeGroups,\n    sePersons,\n    setSePersons,\n    seTags,\n    setSeTags\n  };\n\n  const setDir = () => {\n    if (lang === 'ar') return 'rtl';else return 'ltr';\n  };\n\n  const setTextAlign = () => {\n    if (lang === 'ar') return 'right';else return 'left';\n  };\n\n  const cleanForm = () => {\n    if (branchType === 'sound') {\n      setSoundName('');\n      setBranchName('');\n    }\n\n    const inp = document.getElementById('branchName');\n    inp ? inp.innerHTML = '' : console.log('branch name is null');\n  };\n\n  const submitClick = () => {\n    setNewBranchPending(true);\n    let url = p.apiBase2 + '/branches';\n    const data = {\n      name: branchName,\n      type: branchType,\n      parentID: BranchLocation,\n      lang: lang,\n      pinned: pinned,\n      positive: pos\n    };\n    if (BranchLocation.length <= 0) data.parentID = 0; // check link type to append link name to the extra\n\n    if (branchType === 'link') {\n      data['extra'] = JSON.stringify({\n        name: linkName\n      });\n    } // check if type Song is added to add Name \n\n\n    if (branchType === 'sound') {\n      data['extra'] = JSON.stringify({\n        soundName: soundName\n      });\n    }\n\n    tokenPost(url, data, p.token).then(res => {\n      // toggle branch tags\n      seTags.forEach(tag => {\n        const url = p.apiBase2 + '/branches/toggle-tag';\n        tokenPost(url, {\n          tagID: tag,\n          branchID: res.id\n        }, p.token).then(e => console.log(e)).catch(r => {\n          console.log(r);\n        });\n      }); // toggel branch people\n\n      sePersons.forEach(person => {\n        const url = p.apiBase2 + '/branches/toggle-person';\n        tokenPost(url, {\n          personID: person,\n          branchID: res.id\n        }, p.token).then(e => console.log(e)).catch(r => {\n          console.log(r);\n        });\n      }); // toggle branch groups\n\n      seGroups.forEach(group => {\n        const url = p.apiBase2 + '/branches/toggle-group';\n        tokenPost(url, {\n          groupID: group,\n          branchID: res.id\n        }, p.token).then(e => console.log(e)).catch(r => {\n          console.log(r);\n        });\n      }); // fetch new branches . \n\n      let url;\n      typeof BranchLocation === 'number' ? url = p.apiBase2 + '/branches/nested?id=' + BranchLocation : url = p.apiBase2 + '/branches/root';\n      tokenGet(url, {\n        Authorization: p.token\n      }).then(e => {\n        setUpToDate(e);\n        setNewBranchPending(false);\n      });\n    });\n    cleanForm();\n  };\n\n  const handleNameChange = e => {\n    setBranchName(e.target.innerText);\n  };\n\n  const branchTypeChange = e => {\n    setBranchType(e.target.value);\n  };\n\n  const getSelectBranchType = () => {\n    return /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"select-branch-type\",\n      name: \"type\",\n      onChange: e => {\n        branchTypeChange(e);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"text\",\n        children: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"image\",\n        children: \"image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"sound\",\n        children: \"sound\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"video\",\n        children: \"video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"link\",\n        children: \"Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"youtube\",\n        children: \"youtube\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"gist\",\n        children: \"gist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getTextInput = title => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), title === \"Branch\" && expandNew && /*#__PURE__*/_jsxDEV(BranchLang, {\n        setLang: setLang,\n        branchType: branchType,\n        lang: lang\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        id: \"branchName\",\n        className: getCls('input-name'),\n        onInput: e => handleNameChange(e),\n        style: {\n          direction: setDir(),\n          textAlign: setTextAlign()\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getAudioInput = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Song\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input1, {\n        type: \"text\",\n        placeholder: \"Song Link\",\n        value: branchName,\n        onChange: e => setBranchName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input1, {\n        placeholder: \"Song Name\",\n        type: \"text\",\n        value: soundName,\n        onChange: e => {\n          setSoundName(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getImageForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-branch-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        id: \"branchName\",\n        className: getCls('input-name'),\n        onInput: e => handleNameChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this);\n  };\n\n  const handleLinkChange = e => {\n    setBranchName(e.target.innerText);\n  };\n\n  const handleLinkNameChange = e => {\n    setLinkName(e.target.innerText);\n  };\n\n  const getLinkForm = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-branch-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        className: getCls('input-name'),\n        onInput: e => handleLinkChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        contentEditable: \"true\",\n        className: getCls('input-name'),\n        onInput: e => handleLinkNameChange(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        onClick: submitClick,\n        className: `save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`,\n        children: \"Save\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this);\n  };\n\n  const getSpinner = e => {\n    return /*#__PURE__*/_jsxDEV(\"i\", {\n      className: \"fas fa-spinner spinner save-branch-spinner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this);\n  };\n\n  const toggleNew = () => {\n    setOpenedMenu(!openedMenu);\n  };\n\n  const getPinPosValue = oldValue => {\n    if (oldValue == 1) return 0;else return 1;\n  };\n\n  const getPinnedPositive = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: getCls('container'),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: getCls('pinned'),\n        onClick: () => {\n          setPinned(getPinPosValue(pinned));\n        },\n        children: [pinned == 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-ribbon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 37\n        }, this), pinned == 1 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-ribbon\",\n          style: {\n            color: 'green'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: getCls('pos'),\n        onClick: () => {\n          setPos(getPinPosValue(pinned));\n        },\n        children: [pos == 0 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-minus-square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 34\n        }, this), pos == 1 && /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"far fa-plus-square\",\n          style: {\n            color: 'green'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 13\n    }, this);\n  };\n\n  const toggleExpandNew = () => {\n    setExpandNew(!expandNew);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: getCls('W5DlnFPm77'),\n    children: p.navSts.isVisibleNav && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: p.getCls('new-section'),\n      children: [openedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleNew,\n        className: getCls('closeNewIconContainer'),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-times-circle closeNewIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 32\n      }, this), !openedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: toggleNew,\n        className: getCls('NewIconContainer'),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-plus-circle addNewIcon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 40\n      }, this), openedMenu && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"new-branch-form\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `form-container ${isDark ? \"dark-form-container\" : \"light-form-container\"}`,\n          children: [!newBranchPending && expandNew && getSelectBranchType(), !newBranchPending && branchType === 'text' && getTextInput('Branch'), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: getCls('wN9ogkd4R'),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: toggleExpandNew,\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-caret-square-down\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 61\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 29\n            }, this), expandNew && /*#__PURE__*/_jsxDEV(Group, {\n              ex: ex,\n              p: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 43\n            }, this), expandNew && /*#__PURE__*/_jsxDEV(Person, {\n              ex: ex,\n              p: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 43\n            }, this), expandNew && /*#__PURE__*/_jsxDEV(Tag, {\n              ex: ex,\n              p: p\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 43\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this), expandNew && getPinnedPositive(), !newBranchPending && branchType === 'image' && getImageForm(), !newBranchPending && branchType === 'link' && getLinkForm(), !newBranchPending && branchType === 'video' && getTextInput('Video'), !newBranchPending && branchType === 'youtube' && getTextInput('YouTube'), !newBranchPending && branchType === 'sound' && getAudioInput(), !newBranchPending && branchType === 'gist' && getTextInput('Gist'), newBranchPending && getSpinner()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 39\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 238,\n    columnNumber: 9\n  }, this);\n}\n\n_s(New, \"5ke0X7mmsB+iiYVMW5I8InkuDwc=\");\n\n_c = New;\nexport default New;\n\nvar _c;\n\n$RefreshReg$(_c, \"New\");","map":{"version":3,"sources":["F:/React/tree-mysql/src/Components/branches/new/New.js"],"names":["React","useState","BranchLang","Group","Person","Tag","Input1","tokenGet","tokenPost","New","props","p","getCls","base","newBranchPending","setNewBranchPending","branchName","setBranchName","branchType","setBranchType","linkName","setLinkName","lang","setLang","pinned","setPinned","pos","setPos","openedMenu","setOpenedMenu","seGroups","setSeGroups","sePersons","setSePersons","seTags","setSeTags","expandNew","setExpandNew","soundName","setSoundName","location","BranchLocation","isDark","apiBase","setUpToDate","ex","setDir","setTextAlign","cleanForm","inp","document","getElementById","innerHTML","console","log","submitClick","url","apiBase2","data","name","type","parentID","positive","length","JSON","stringify","token","then","res","forEach","tag","tagID","branchID","id","e","catch","r","person","personID","group","groupID","Authorization","handleNameChange","target","innerText","branchTypeChange","value","getSelectBranchType","getTextInput","title","direction","textAlign","getAudioInput","getImageForm","handleLinkChange","handleLinkNameChange","getLinkForm","getSpinner","toggleNew","getPinPosValue","oldValue","getPinnedPositive","color","toggleExpandNew","navSts","isVisibleNav"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport './new.css'\nimport BranchLang from './BranchLang'\nimport Group from './groups/Group'\nimport Person from './persons/Person'\nimport Tag from './tags/Tag'\nimport Input1 from '../../Inputs/input1'\nimport { tokenGet, tokenPost } from '../../../utils/functions'\n\n\n\n\n\nfunction New(props) {\n    const { p } = props\n    let getCls = (base) => { return p.getCls('new-section-' + base) }\n    const [newBranchPending, setNewBranchPending] = useState(false)\n    const [branchName, setBranchName] = useState('')\n    const [branchType, setBranchType] = useState('text')\n    const [linkName, setLinkName] = useState('')\n    const [lang, setLang] = useState('ar')\n    const [pinned, setPinned] = useState(0)\n    const [pos, setPos] = useState(0)\n    const [openedMenu, setOpenedMenu] = useState(false)\n    const [seGroups, setSeGroups] = useState([])\n    const [sePersons, setSePersons] = useState([])\n    const [seTags, setSeTags] = useState([])\n    const [expandNew, setExpandNew] = useState(false)\n    const [soundName, setSoundName] = useState('')\n    let { location: BranchLocation, isDark, apiBase, setUpToDate } = props\n    if (!BranchLocation) BranchLocation = ''\n\n    let ex = {\n        seGroups, setSeGroups, sePersons, setSePersons, seTags, setSeTags\n    }\n\n\n    const setDir = () => {\n        if (lang === 'ar') return 'rtl'\n        else return 'ltr'\n    }\n    const setTextAlign = () => {\n        if (lang === 'ar') return 'right'\n        else return 'left'\n    }\n\n    const cleanForm = () => {\n        if(branchType === 'sound'){\n            setSoundName('')\n            setBranchName('')\n        }\n        const inp = document.getElementById('branchName')\n        inp? inp.innerHTML = '' : console.log('branch name is null')\n    }\n\n    const submitClick = () => {\n        setNewBranchPending(true)\n        let url = p.apiBase2 + '/branches'\n        const data = {\n            name: branchName,\n            type: branchType,\n            parentID: BranchLocation,\n            lang: lang,\n            pinned: pinned,\n            positive: pos\n        }\n\n        if (BranchLocation.length <= 0) data.parentID = 0\n\n        // check link type to append link name to the extra\n        if (branchType === 'link') {\n            data['extra'] = JSON.stringify({name: linkName})\n        }\n\n        // check if type Song is added to add Name \n        if (branchType === 'sound') {\n            data['extra'] = JSON.stringify({soundName: soundName})\n        }\n\n\n        tokenPost(url, data, p.token).then(res => {\n            // toggle branch tags\n            seTags.forEach(tag => {\n                const url = p.apiBase2 + '/branches/toggle-tag'\n                tokenPost(url, { tagID: tag, branchID: res.id }, p.token)\n                    .then(e => console.log(e))\n                    .catch(r => { console.log(r) })\n            })\n            // toggel branch people\n            sePersons.forEach(person => {\n                const url = p.apiBase2 + '/branches/toggle-person'\n                tokenPost(url, { personID: person, branchID: res.id }, p.token)\n                    .then(e => console.log(e))\n                    .catch(r => { console.log(r) })\n            })\n            // toggle branch groups\n            seGroups.forEach(group => {\n                const url = p.apiBase2 + '/branches/toggle-group'\n                tokenPost(url, { groupID: group, branchID: res.id }, p.token)\n                    .then(e => console.log(e))\n                    .catch(r => { console.log(r) })\n            })\n\n            // fetch new branches . \n            let url\n            typeof (BranchLocation) === 'number' ?\n                url = p.apiBase2 + '/branches/nested?id=' + BranchLocation :\n                url = p.apiBase2 + '/branches/root'\n\n            tokenGet(url, { Authorization: p.token }).then(e => {\n                setUpToDate(e)\n                setNewBranchPending(false)\n            })\n\n        })\n\n        cleanForm()\n\n    }\n\n    const handleNameChange = (e) => {\n        setBranchName(e.target.innerText)\n    }\n\n    const branchTypeChange = (e) => {\n        setBranchType(e.target.value)\n    }\n\n\n    const getSelectBranchType = () => {\n        return (\n            <select className=\"select-branch-type\" name=\"type\" onChange={(e) => {\n                branchTypeChange(e)\n            }}>\n                <option value=\"text\">text</option>\n                <option value=\"image\">image</option>\n                <option value=\"sound\">sound</option>\n                <option value=\"video\">video</option>\n                <option value=\"link\">Link</option>\n                <option value=\"youtube\">youtube</option>\n                <option value=\"gist\">gist</option>\n            </select>\n        )\n    }\n\n\n\n    const getTextInput = (title) => {\n        return (\n            <div>\n                <h2>{title}</h2>\n                {title === \"Branch\" && expandNew && <BranchLang setLang={setLang} branchType={branchType} lang={lang} />}\n                <div contentEditable=\"true\" id=\"branchName\" className={getCls('input-name')} onInput={(e) => handleNameChange(e)} style={{ direction: setDir(), textAlign: setTextAlign() }} />\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n\n\n    const getAudioInput = () => {\n        return (\n            <div>\n                {/* title */}\n                <h2>Song</h2>\n                {/* link */}\n                <Input1 type=\"text\" placeholder='Song Link' value={branchName} onChange={(e) => setBranchName(e.target.value)} />\n                {/* name */}\n                <Input1 placeholder=\"Song Name\" type=\"text\" value={soundName} onChange={(e) => { setSoundName(e.target.value) }} />\n                {/* submit */}\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n\n    const getImageForm = () => {\n        return (\n            <div className=\"new-branch-form\">\n                <h2>Image</h2>\n                <div contentEditable=\"true\" id=\"branchName\" className={getCls('input-name')} onInput={(e) => handleNameChange(e)} />\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n    const handleLinkChange = (e) => {\n        setBranchName(e.target.innerText)\n    }\n    const handleLinkNameChange = (e) => {\n        setLinkName(e.target.innerText)\n    }\n    const getLinkForm = () => {\n        return (\n            <div className=\"new-branch-form\">\n                <h2>Link</h2>\n                <div contentEditable=\"true\" className={getCls('input-name')} onInput={(e) => handleLinkChange(e)}></div>\n                <div contentEditable=\"true\" className={getCls('input-name')} onInput={(e) => handleLinkNameChange(e)}></div>\n                <button type=\"submit\" onClick={submitClick} className={`save-branch-btn ${isDark ? \"save-branch-dark\" : \"save-branch-light\"}`}>Save</button>\n            </div>\n        )\n    }\n\n    const getSpinner = (e) => {\n        return (\n            <i className=\"fas fa-spinner spinner save-branch-spinner\"></i>\n        )\n    }\n\n    const toggleNew = () => {\n        setOpenedMenu(!openedMenu)\n    }\n\n    const getPinPosValue = (oldValue) => {\n        if (oldValue == 1) return 0\n        else return 1\n    }\n\n\n    const getPinnedPositive = () => {\n\n        return (\n            <div className={getCls('container')}>\n                <div className={getCls('pinned')} onClick={() => { setPinned(getPinPosValue(pinned)) }}>\n                    {pinned == 0 && <i className=\"fas fa-ribbon\"></i>}\n                    {pinned == 1 && <i className=\"fas fa-ribbon\" style={{ color: 'green' }}></i>}\n                </div>\n                <div className={getCls('pos')} onClick={() => { setPos(getPinPosValue(pinned)) }}>\n                    {pos == 0 && <i className=\"far fa-minus-square\"></i>}\n                    {pos == 1 && <i className=\"far fa-plus-square\" style={{ color: 'green' }}></i>}\n                </div>\n            </div>\n        )\n    }\n\n\n    const toggleExpandNew = () => {\n        setExpandNew(!expandNew)\n    }\n    return (\n        <div className={getCls('W5DlnFPm77')}>\n            {p.navSts.isVisibleNav && <div className={p.getCls('new-section')}>\n                {openedMenu && <div onClick={toggleNew} className={getCls('closeNewIconContainer')}>\n                    <i className=\"fas fa-times-circle closeNewIcon\"></i>\n                </div>}{!openedMenu && <div onClick={toggleNew} className={getCls('NewIconContainer')}>\n                    <i className=\"fas fa-plus-circle addNewIcon\"></i>\n                </div>}\n                {openedMenu && <div className=\"new-branch-form\">\n                    <div className={`form-container ${isDark ? \"dark-form-container\" : \"light-form-container\"}`}>\n\n                        {!newBranchPending && expandNew && getSelectBranchType()}\n\n\n                        {!newBranchPending && branchType === 'text' && getTextInput('Branch')}\n\n\n                        <div className={getCls('wN9ogkd4R')} >\n                            <span onClick={toggleExpandNew}><i className=\"far fa-caret-square-down\"></i></span>\n                            {expandNew && <Group ex={ex} p={p} />}\n                            {expandNew && <Person ex={ex} p={p} />}\n                            {expandNew && <Tag ex={ex} p={p} />}\n                        </div>\n                        {expandNew && getPinnedPositive()}\n\n                        {!newBranchPending && branchType === 'image' && getImageForm()}\n                        {!newBranchPending && branchType === 'link' && getLinkForm()}\n                        {!newBranchPending && branchType === 'video' && getTextInput('Video')}\n                        {!newBranchPending && branchType === 'youtube' && getTextInput('YouTube')}\n                        {!newBranchPending && branchType === 'sound' && getAudioInput()}\n                        {!newBranchPending && branchType === 'gist' && getTextInput('Gist')}\n                        {newBranchPending && getSpinner()}\n                    </div>\n                </div>}\n            </div>}\n        </div>\n    )\n}\n\nexport default New\n"]},"metadata":{},"sourceType":"module"}